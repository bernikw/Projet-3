{% extends "/backoffice/layout.html.twig" %}

{% block content %}

	<!--Header section -->
	<header>
		<div class="container">
			<div class="row">
				<div class="p-4 p-md-3 mb-4 text-center  text-white rounded bg-primary my-3">
					<div class="col-md-12 px-0">
						<h1 class="display-4">Modifier article</h1>
					</div>
				</div>
			</div>
		</div>
	</header>
	<!--Edit post section -->
	<section class="editpost">
		<div class="container">
			<h5 class="text-center text-uppercase text-secondary mb-0">Modifier un article</h5>
			<hr class="star-dark mb-5">
			<div class="row">
				<div class="col-lg-8 mx-auto">
					<form action="http://localhost:8000/?action=backeditarticle&id={{post.id}}" method="POST">

					<input type="hidden" value="{{ session.token }}" id="token" name="token">

						<div class="control-group">
	
							<input type="hidden" value="{{ post.id}}" id="id" name="id" class="form-control">
							<input type="hidden" value="{{ user.id == post.userId}}" id="id" name="id" class="form-control">
							<div class="form-group floating-label-form-group controls mb-0 pb-2">
								<label>Auteur</label>

								<input value="{{ post.username }}" class="form-control" type="text" id="author" name="author" required>
								<p class="help-block text-danger"></p>
							</div>

							<div class="mb-3">
								<label for="" class="form-label">Auteur</label>
								<select id="author" name="author" required="required" class="form-select">
									{% for user in users %}
										{% if post.userId == user.id %}
											<option value="{{ user.id }}" name="user_id" selected>{{ user.username }}</option>
										{% else %}
											<option value="{{ user.id }}" name="user_id">{{ user.username }}</option>
										{% endif %}
									{% endfor %}

								</select>
							</div>


							<div class="control-group">
								<div class="form-group floating-label-form-group controls mb-0 pb-2">
									<label>Titre</label>
									<input value="{{ post.title }} " class="form-control" id="title" name="title" required>
									<p class="help-block text-danger"></p>
								</div>


							</div>
							<div class="control-group">
								<div class="form-group floating-label-form-group controls mb-0 pb-2">
									<label>Aper√ßu de l'article</label>
									<textarea class="form-control" id="message" name="chapo" rows="5" required>{{ post.chapo }}</textarea>
									<p class="help-block text-danger"></p>
								</div>
							</div>
							<div class="control-group">
								<div class="form-group floating-label-form-group controls mb-0 pb-2">
									<label>Contenu de l'article</label>
									<textarea class="form-control" id="message" name="content" rows="30" required>{{ post.content }}</textarea>
									<p class="help-block text-danger"></p>
								</div>
							</div>
							<div class="d-grid gap-2 col-6 mx-auto my-5">
								<button class="btn btn-primary" value="update_post" type="subbmit">Modifier</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>
{% endblock %}
